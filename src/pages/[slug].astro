---
import HtmlLayout from '@layouts/HtmlLayout.astro';
import Post from '@static/Post.astro';
import { getPostsSlug } from '@service/data';

const { id, title } = Astro.props;

export async function getStaticPaths() {
  const postsSlug = await getPostsSlug();

  return postsSlug.map((post) => ({
    params: { slug: post.slug },
    props: {
      id: post.id,
      title: post.title.rendered,
    },
  }));
}
---
<HtmlLayout title={title}>
  <Post id={id} />
</HtmlLayout>
